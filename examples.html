<!DOCTYPE html>
<html>
<head>
<title>Turtle Graphics Examples: von Koch snowflake, peano curve, and an interactive shell</title>
<script type="text/javascript" src="turtle.js"></script>
<script type="text/javascript" src="fractal.js"></script>
<script type="text/javascript" src="interactive.js"></script>
<style type="text/css">
canvas {border: 1pt solid black;}
.interactive-docs p {margin: 0;}
#js * {display:block;}
#editor {
  font-family: "Courier New", Courier, monospace;
  width: 30em; padding: .5em; margin-top: 1em; border: 1pt solid black;
}
</style>
</head>
<body>
<div class="playback">
<canvas class="fractal" width="205" height="110"></canvas>
</div>
<div class="interactive">
<canvas id="interactivecanvas" width="205" height="200"></canvas>
<form><input id="commandline" type="text" size="36" name="commandline"></form>
</div>
<div class="interactive-docs">
<p>Commands include:</p>
<p><code>penup</code></p>
<p><code>pendown</code></p>
<p><code>move <em>pixels</em></code></p>
<p><code>turn <em>degrees</em></code></p>
<p><code>clear</code></p>
</div>  
<form id="js">
<textarea id="editor" cols="60" rows="40">
var T = Turtle.interactiveTurtle;

function polygon(sides, pixels) {
    var angle = 360/parseInt(sides);
    for(var i = sides; i--;) {
        T.move(pixels);
        T.turn(angle);
    }
    return;
}

T.clear();
T.pendown();
for(var i = 5; i--;) {
    polygon(3, 30);
    T.turn(360/5);
}
T.turn(50);
for(var i = 5; i--;) {
    polygon(3, 50);
    T.turn(360/5);
}
</textarea>
<input type="submit" value="run"></input>
</form>
</body>
<script type="text/javascript">
(function (window, document, undefined) {
Turtle.drawFractal(document.getElementsByClassName("fractal")[0]);
Turtle.interactiveCanvas(
    document.getElementById("interactivecanvas").getContext('2d'),
    document.getElementById("commandline")
);

var editor = document.getElementById("editor");
document.getElementById("js").onsubmit = function () {
    try {
        eval(editor.value);
    }
    catch (err) {
        console.log(err);
    }
    return false;
}
return;
})(this, this.document);
</script>
</html>
