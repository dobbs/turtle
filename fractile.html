<!DOCTYPE html>
<html>
<head>
<title>von Koch snowflake</title>
<script type="text/javascript" src="turtle.js"></script>
</head>
<body>
<div><canvas id="view" width="300" height="200"></canvas></div>
</body>
<script type="text/javascript">
var canvas = document.getElementById('view');
var q = new Commands();
function drawLine (pixels, depth) {
  if (depth > 0) {
    drawLine(pixels/3, depth-1);
    q.turn(60);
    drawLine(pixels/3, depth-1);
    q.turn(-120);
    drawLine(pixels/3,depth-1);
    q.turn(60);
    drawLine(pixels/3,depth-1);
  } else {
    q.move(pixels);
  }
  return;
}
function fractalLine(pixels, depth, turns) {
    if (depth > 0) {
        for (var i = 0; i < turns.length; i++) {
            q.turn(turns[i]);
            fractalLine(pixels/3, depth-1, turns);
        }
    } else {
        q.move(pixels);
    }
}
function von_koch (pixels, depth) {
  for (var i=3; i--;) {
        fractalLine(pixels, depth, [0, 60, -120, 60]);
        q.turn(-120);
   }
}
function peano (pixels, depth) {
    fractalLine(pixels, depth, [0, 90, -90, -90, -90, 90, 90, 90, -90]);
}
q.setPosition(150, 100);  
q.penDown();
von_koch(90, 3);
q.penUp();
q.setPosition(250, 100);
peano(60, 3);
var v = new CanvasView(canvas); 
q.play(v);
</script>
</html>
